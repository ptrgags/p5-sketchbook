<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script
      language="javascript"
      type="text/javascript"
      src="../../libraries/p5.min.js"
    ></script>
    <script src="https://unpkg.com/tone@15.0.4/build/Tone.js"></script>
    <script type="module">
      import { sketch } from "./PendulumClock.js";
      import "../../sketchlib/sketchbook-navbar.js";
      const p5_sketch = new p5(sketch, "sketch");
    </script>
    <link rel="stylesheet" href="../../styles/layout.css" />
  </head>
  <body>
    <sketchbook-navbar></sketchbook-navbar>
    <div class="container">
      <h1>Pendulum Clock (2025)</h1>
      <div class="sketch">
        <canvas id="sketch-canvas" width="500" height="700"></canvas>
      </div>
      <div class="description">
        <p>
          To further test the sound system, I made a simple pendulum clock that
          makes a ticking melody each second, and plays the
          <a href="https://en.wikipedia.org/wiki/Westminster_Quarters"
            >Westminster Quarters</a
          >
          each quarter hour.
        </p>
        <p>
          I found that Tone.js is good about consistent timing (e.g. triggering
          sound once a second), but the audio playback is synced to the page
          load time, not the system clock. This means the ticking melody may be
          slightly out of phase with the movement of the clock hands, and this
          will vary each time you refresh the page. I don't plan to fix this
          because the vast majority of uses for music in my artworks will not
          need to be synced to the clock like this.
        </p>
      </div>
    </div>
  </body>
</html>
